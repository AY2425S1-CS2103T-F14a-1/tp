@startuml
'https://plantuml.com/activity-diagram-beta
<style>
activityDiagram {
  activity {
    BackgroundColor #8bc7f0
    BorderColor #33668E
    FontColor #000000
    FontName arial
  }

  diamond {
    BackgroundColor yellow
    LineColor #000000
    FontColor green
    FontName arial
    FontSize 15
  }

  arrow {
    FontColor blue
    FontName arial
    FontSize 15
  }
}
document {
   BackgroundColor transparent
}
</style>

|#pink|Ui|
start
:Accept user input command;
|#green|Logic|
:Execute the input;
|AddressBookParser|
:Parse the input;
if () then ([invalid command format])
    |Ui|
    :Show MESSAGE_INVALID_COMMAND_FORMAT;
    stop
else ([else])
    |AddCommandParser|
    :Parse the arguments;
    if () then ([else])
        |AddCommand|
        :Create an AddCommand object;
        :Execute AddCommand;
        |Student|
        :Create a student to be added;
        |ModelManager|
        :Check duplicates;
        if () then ([else])
            |AddressBook|
            :Add the student to the address book;
            |ModelManager|
            :Update the filtered list with all students
            including the new added one;
            :Check clashing schedule;
            if () then ([new schedule clashes])
                |Ui|
                :Show MESSAGE_HAS_CLASHES;
            else ([else])
            endif
            :Show MESSAGE_SUCCESS of AddCommand;
             stop
        else ([student is already in the address book])
            :Show MESSAGE_DUPLICATE;
        stop
        endif
    else ([invalid arg format])
        :Show MESSAGE_USAGE of AddCommand;
    stop
endif

@enduml
